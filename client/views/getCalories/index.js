//transcode
//https://babeljs.io/repl#?browsers=defaults%2C%20not%20ie%2011%2C%20not%20ie_mob%2011&build=&builtIns=false&spec=false&loose=false&code_lz=MYGwhgzhAEAKCmUD2ZoG8BQ1vWEgdhAC4BOArsEUiQBQCU6WOzRAFgJYQB0ADoktAC86aADcwIagC5o-MiBDQAvk2bY2nLhKJkSqYWjETps-YpVqcG7uwAmYW_CEjxkkjLkLlqtda4R4AA8BAyM3DzNvZhUVDFBIGAAxAEFGZjxCUgoqWgZMS3UObjBgMABbBxCXY3doAEYuACYAGmh2fFAydlqAMwkAqIK_MqRReBBk0orbKsNXEwbGgFZW9s7umT6QAYshoq4RsZAAEXhygCN5MHwZ5zmamQaAZlWOkC7e_qdd7BiMOPAUGgiQAkmkcBliORKNR6ODLH4eCV2PB8ER4AA5MBIADCSDKPBA7FKt1C81qdVe60-22-PhY-wAVvBGWQygAZeBjO5hEyeEBU94baBbHb0qz7WzsMDneDomBkh71LiUtpvD6bL6DBH7fDwXRISQAc2JSAV1XCpgUgo1Iq1P18-x4SE53MVlv5NuForpBWgiKQAFl4FL9Ba-WYvTSxX6AwBxPQ3JzuiPWtXUzW07WOzRS9g88mPLgvdNC6O-vaaJEdEhnIjsdEFpXPKOZmOV7ika4QQnXRspinF1t2rMOhmaVjwJFUafS833S2LYc-7Pj7i1_ASJuLlUrUu2ldjiWaDcSY7SokDAdFlr77328WFTSlDrwEgAZRBx1S16tArv5arse3B8CQDYEA2ybhoOAAsy4PrG-wBDwV7QUWJZrGWbYVjqVbwAAjmQqJgCC-A9PAwClLMvKDremEHghHZcMA3S6CaYA4mAJChqU24LE08Gjo-_qSs6wB8bRgntrh3A9HoOh6AA8sg7IEEa1GFn-Uk4TmIGGg2ehsvAACiZQAEpnOc7BEkQJTYhJRZ7vR95CYhVb6V2bJgO-U6oQu_EAGzaUBT7cIR8DsNMZrBvg1CNAADA5WkAdhIUiZo4WRZUECNHUAD6MGJb-nopSO0m6VwmVRRAgZgOw1CFUldHqi55V_ACCTAgAKvCuAEFC2Swnkwl-EQTwABxJQ0qrOYBR6hVwY0AJxTQJpWHiN-xEI1v4tutjEyYtMF1KtcH7a5ODtfEQLvviXGJGAOS9ZCWQwrQfQ5MNbnFCQegAJ7OAA2gAuptmgfdQzgQyQYM2C1JAAGo1Ig9A-LEzCzUjbgo19BQ9JDNAgHK0AANbwAD7TpbJj3ULjfrYETRDQEg5zMpQzh-NDgNk39oP0zg7A9NANAs2zRBcOS0AAGRS8zrMUeLs10_zwFaL9YB_bwZAQKwIvy5QEs1HQwnRMJDrozgEB3bkvXMOIJDQFbFTOPFwn4w7hPE5LSBC34XH_crfpO6gADUwjkmbwm1gp-CO3daMYLE10wAgRpcZxbhzs9_WvTkNB8MgYCtH0xfsMXRCB6rBdW2G1coLDXB9FDYANz0-bCG3rdMx3RAJz4fBpzb-QFNHuix34GLGV1qOmz4k_T5X2Avf6ZTnBz-xdYGABCM8FMvTfCHqADu0C3RUJAPXnnNgHQ_jW7vlj7-3sjwCfZ_3TTtCc-wt_B7kwn727i_N-1tL6wk5hXO-58H5qGXnqIBRBV7QAAFTCybgAfjtNAR4DBUE0DbtATBBCcEoLQUzIhTMcEAP6oaeAXBjQ0HgcbP0o8SCxyRCQAIiRJCPUYXKRaSBEjsECCGGgjQ6DMMuv8Zgm8d6LyMA7RBa9hCuz9ILYWHCAikSIDQREiAa7-CCEgQ2bgJG2wKAAegsRUCAwB5DtCQCbKwSDhABQCtAEO9QnhcAAOykL0YXXg_ATGQ08UsfxTp9EoC0CABSYAQkOwALTQAClwSaqCAkGLsA4OhEc_TzWgOMAYw9-ZWPImUdoDinHqBcSkpY4TPFLS4O4jJkTAkF2MZLTxDR0lUyCYE7Quh4mS2STBXxES8KBOyY4BJkc_SQlofQpARpdGr0kQiWpmj4DcJQDopRAihEiNsGIiRUc5RjxXucBOScc7QDrmGY-cAolgFRvvB5r9gTJFebcghh8Pmgm-ZkEUQDHmJAXv8ZO0AAASiDFAlL6pkaEed5F-A3I4EgCBC4wLXFwNFb4UjYtVnii-IJCULWJWCmBFtsDEsxTXOE8L0i3PucZImZRURAJmHY9laIuBGjlKy-APKiBbz-iCY59zmI5yRdQLgm52XrLUPbBF6IyCkmgAAIgADysCeAAPlgMiDl8AtUWN1XqjV1C0T6luGHTVWrbLnCJnqh15wkC2D-hat2BNGak3JmqO5zz5FMutWqgQdqaDVLUAAAwdSQPVUa_QOtsHqgAJGgHmShTVEBTYmgoyaXXtB4GQJmdhBAavTZmjVuBAQQHLZjGodKUDVqIH9Pg5b0SBCIBql1Fic16ujVGxVaihY0B5kIQQwgNUBGCBq4Ne8CCqttVOgtNAirAiFZU2K0BkknWELVWx9jYp0GzSmy1Ks0ohqXeGld_bT29tIF6_JVrr0eJXX2-N2a3UeofTKZ156CgsrZRyrg7Q9QkChZvdkzgMjXuEskdWms5L4hoFyoyvL-VEEFcKiAoqcS1qxOymgGqG1uCbWAOdt93bGRKLrcYQqOUhD1eYyw9HhXGIcLYYyYw0Tsk4OicDxHgCsGuPyjVrQuQcqEMxvwpHYSSbRK0e5pz8mKupdAClXz5FvOw4x5waHhV8oFcBtEorxX4PiS9GVJA5XlHgMOnAyrYM2qqNq81KRTXmoA4_RdLm332sdc6117rPXebUO7YWvrx2Uz6POhmxNRZyiqH0bm5M-Yq2c2G_zkaL3MFjY-vNlgC1aqLSWtothy2VvJkoatyd63wwei2tt8By3CYoiTN1gQe33sK2oAtVW_pZr7SmwdF6HOWHUTQAAhIlqgCS4uwN81lu1-WU0lfwMW0tFWK0Zuq11II3aa0JHq9SLG1BGv-max2g73XhsDqjQU5gRSnCMoy0t5d0BVtprQLNzpNQhv9tGyrR7EJ3s3vtR-p9BQCmZY-9qvt37PXZr_fAKHlg-i6bRMYsDb5IOBmg8IWHji_QIf-o3EgKGDMgcw5joguG_r4YSIR-AxHZqNYkY3agNHhM0DY3pwQzHXusZM3Nzj3GOV8eIKiN8QmiTABJuJwpPHu4yf2Gzz-vPlfFxvuN5QuvSca3J5TpA3LqfGYY2ienjOoDM9Z_DM7F8KMc-o7R3nIumMsbUHzrHWhbBceV5LgTMuNXCdE_ARXCmVd9Lk7QSP2uVPQ7U9InAFLSXaZ-ewWnVQqcYfN8Kszxy25SsRYNGz8r7PCSc2D5wbn9Wgk8_qsLV6_N2u1YF1HwWf1N5wBFz2TNouxzbgt31v2obsFS7zKNRPsu9fy_G3rzBiula25V3bg3au1pO2WIRTX20h8nPLzrt3-0L5wP1tfAORtDqjZNmb8s5vkgW835bwgvvrc2-V1fmb9tdo38dkj9uNQO-l2e-na3aD6V-F6IO2Az2nu8y1eK25-v2CSl-92UBU-CB76j63evwL6LeWBiOv6TqqOOBIome7uoG-A4GeOBOKqLm8GiGRuZQqGJu6G4sNOIuVuBGdmdu1IO-zuXOru3uVA0mcBOAwhHGfu4uvG_G0utAIecuCuEmyuohsmDWGuceZBCelgSg-ujByGzBOe7BeeHKXBTOPBABp2QB7AlGnOJA3OdG7uohQuXuFBYuAeshgm--YeEeKhAu0egBbgmuHKpc2haguhfczAFKC8nugCWe-mrBhmHBFuIqYqhe4sVmpetmCqleXEdBWWK67mXUDeaOi2oacODqKOLqRAhBpBveUW_qMWFcYh8WTMo-PcE-6W_M0-Eas-caCauW-ad6y-n-O2VaR2UAW-HwiQh2rae-bWh-SAXWEBAxgxfW_aA2qBQO_MuuGMo6d-zID-RsLRZRr6iBwxG2ZWZaYxe2N2ExdalhZYDuMxu-LWGqYBx-kBwOUasBLh8B5R4OX26ayB5IWxD2GBAJ_m8O2BcyC6kJreX6IWRB_6bsWGFBOOEGUGMGYODBZOBhLBpuueaJKRZhNuFhbO3aAh9hQhTh_hfx4hbhUhHhUuXhoAxIShSuUm_hahfBGhWuwKYR0QeheJFOhhiRZuxJOGeG3BRGjxHwzxlJVGghPOEhzhPxjJ_uEunhweoe-AYmyhXJqumgMewRimApuuERyeuBPg6uecmh0M6eQKqpwgkei0XEmGVqxAuAB-ZMtgzgEhzEPpIYnp_e_qLp6Jtgbsn8nRlB1IMGQZkZ_xVsRMSyKyXMPMwMSeNpgR8m_JiWlAjpXpzpnJvKtkJAHpSZTMkswgWyOyvCAZrgREuut-j-JxAQRAXUkU8ASAJaNAcIdJvWAZxAf0KZtYhw8AsAFOoEraxGbq3Eb4c6D2rQTw8Uq5dAAA3OqSkcYsOSmXOeijXsmXYPUDwIEBpiGKQU9hQY2VBBqqQTDrcuOuGduaBrYP4ISA2MRj_pSYDPFF0WoPmUQDGdWTRJ6YsgwoBZ0UnrEEfO0DMEfL7pqTISycHjwrYIrqac0QOcwI8jCmUCAKjJaT0GQB0PWAQIGoPBnNQHOAyj4MvKUJnJAPEcIEYUZpKRygXkJjUHOIuSGl6QxdRZAM4I8qnOnNxZAPnM8trqXOXLfAPFxDAgJWBExeiVQW-N-TBuJRAInEAA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=false&presets=env%2Ces2015%2Cenv&prettier=false&targets=&version=7.10.4&externalPlugins=

//minify
//https://javascript-minifier.com/


//#region MAIN
const data = { patient: patient, fa: fa, fi: fi, ft: ft }
const debug = false

function setGender(event, patient) {
    const element = event.target
    const key = element.name
    const value = element.id
    patient[key].value = parseInt(value)
    debug && console.log(patient[key])
}

function setFactor(event, factor) {
    const element = event.target
    const checked = element.checked
    const key = element.id
    factor[key].include = checked
    debug && console.log(factor[key])
}

function setValue(event, object) {
    const element = event.target
    const value = parseFloat(element.value)
    if (!value) {
        setTimeout(() => {
            element.style.removeProperty("border")
        }, 3000);
        element.style.border = "solid 1px red"
        element.value = ""
    }
    const key = element.id.split("Text")[0]
    object[key].value = value
    debug && console.log(object[key])
}

async function renderCalories() {
    try {
        const caloriesElement = document.getElementById("calories")
        const response = await getCalories()
        const calories = response.calories
        caloriesElement.textContent = calories
        return Promise.resolve()
    }
    catch (error) {
        alert(error)
        return Promise.reject(error)
    }
}

async function getCalories() {
    try {
        const url = "/getCalories"
        const data = {
            patient: patient,
            fa: fa,
            fi: fi,
            ft: ft
        }
        const response = await fetch(url,  {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        })
        const json = await response.json()
        if (response.status !== 200) throw `${json.error}`
        return Promise.resolve(json)
    }
    catch (error) {
        return Promise.reject(error)
    }
}
//#endregion